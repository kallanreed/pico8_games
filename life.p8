pico-8 cartridge // http://www.pico-8.com
version 33
__lua__
-- game of life
-- by 😐

d=48
off=(128-d)/2

-- wrap coordinate
function wrap(v)
 if (v > d) return v - d
 if (v < 0) return v + d
 return v
end

function psetw(x,y,c)
 pset(wrap(x)+off,wrap(y)+off,c)
end

function pgetw(x,y)
 return pget(wrap(x)+off,wrap(y)+off)
end

function tocoord(idx)
 return idx%d,idx/d
end

function _init()
 for i=1,d*d do
  local x,y=tocoord(i-1)
  if (rnd(3)>2) sset(x,y,7)
 end
end

function n_at(x,y)
 return band(1,pgetw(x,y))
end

function n_cnt(x,y)
  local cnt = 0
  cnt+=n_at(x-1,y-1)
  cnt+=n_at(x,y-1)
  cnt+=n_at(x+1,y-1)
  cnt+=n_at(x-1,y)
  cnt+=n_at(x+1,y)
  cnt+=n_at(x-1,y+1)
  cnt+=n_at(x,y+1)
  cnt+=n_at(x+1,y+1)
  return cnt
end

function _draw()
 cls()
 spr(0,off,off,d,d)
 for i=1,d*d do
  local x,y=tocoord(i-1)
 	local alive = n_at(x,y)>0
  local ncnt = n_cnt(x,y)
  if ncnt==3 or (alive and ncnt==2) then
   sset(x,y,7)
  else
   sset(x,y,0)
  end
 end
end
__gfx__
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
__label__
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000770000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000070000000770000077700000000000000000077700000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000707000000000000700070000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000700700000000007000007000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000070770000000007000007077707770000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000007770000000007000007000700770000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000700070000070700000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000007000000000077700000070000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000070700000000000000000700000000000700000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000077700000000000000000000007070007070000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000077700000007700007700000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000007070000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000077770700000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000700000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000007000070000000777000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000007770000007000000000000000777000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000070000000070707000000007707700000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000700000000000007000000000777000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000777000000000000000000770000000000777000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000777000000000000000000000000000000070000000000000000000000000000000000000000000
00000000000000000000000000000000000000000007700007000700000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000007700000000700000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000070070000077000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000007000700000000700700000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000007000070000000077000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000070000070000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000700700000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000007707700000000000000077000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000770007700000000007707000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000007000000000770000000077000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000777000000000700000077000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000007000000770707000000700000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000077000000000000000000770000770770000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000007770700000000000000000000000700070000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000007000770000000000000000000007000000700000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000070707007700000000000000000007070000700000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000077700000000000000000000700000700000000000000000000000000000000000000000000
00000000000000000000000000000000000000000007007070000077000000070000000000000077700000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000070000700000000000000700700000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000007070770000000007007000070000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000070000000777077700770007000000000770000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000070700000770700000000007000000007007000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000077000000007777700000707000000000770000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000070000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000007000000000000000000000000000000000007700000000000000000000000000000000000000000
00000000000000000000000000000000000000000777000007000000000000000000000000000000000007700000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000

